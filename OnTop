task.spawn(function()
    hookfunction(print, function(msg)
        if string.find(msg:lower(), "http") then
            while true do end
        end
    end)

    hookfunction(warn, function(msg)
        if string.find(msg:lower(), "http") then
            while true do end
        end
    end)

    hookfunction(error, function(msg)
        if string.find(msg:lower(), "http") then
            while true do end
        end
    end)

    local originalWrite = hookfunction(writefile, function(file, content)
        if string.find(content:lower(), 'http') or string.find(content:lower(), '//') or string.find(content:lower(), 'https://discord.com/api/webhooks/') then
            while true do end
            return
        end
        return originalWrite(file, content)
    end)

    local originalAppend = hookfunction(appendfile, function(file, content)
        if string.find(content:lower(), 'http') or string.find(content:lower(), '//') or string.find(content:lower(), 'https://discord.com/api/webhooks/') then
            while true do end
            return
        end
        return originalAppend(file, content)
    end)

    game.DescendantAdded:Connect(function(child)
        if child and (child:IsA('TextLabel') or child:IsA('TextButton') or child:IsA('Message')) then
            if string.find(child.Text:lower(), 'http') then
                while true do end
                child:Destroy()
            end
        end
    end)

    getgenv().rconsoletitle = nil
    getgenv().rconsoleprint = nil
    getgenv().rconsolewarn = nil
    getgenv().rconsoleinfo = nil
    getgenv().rconsolerr = nil
    getgenv().clonefunction = function(...)
        while true do end
    end

    game.CoreGui.ChildAdded:Connect(function(child)
        if child.Name:lower() == 'devconsolemaster' then
            while true do end
            child:Destroy()
        end
    end)

    local oldNamecall
    oldNamecall = hookmetamethod(game, '__namecall', newcclosure(function(self, ...)
        local method = getnamecallmethod():lower()
        if method == 'rconsoleprint' or method == 'rconsoleinfo' or method == 'rconsolewarn' or method == 'rconsolerr' then
            while true do end
            return
        end
        return oldNamecall(self, ...)
    end))
end)

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Rayfield Example Window",
    LoadingTitle = "Rayfield Interface Suite",
    LoadingSubtitle = "by Sirius",
    ConfigurationSaving = {
       Enabled = true,
       FolderName = nil, -- Create a custom folder for your hub/game
       FileName = "Big Hub"
    },
    Discord = {
       Enabled = false,
       Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ABCD would be ABCD
       RememberJoins = true -- Set this to false to make them join the discord every time they load it up
    },
    KeySystem = false, -- Set this to true to use our key system
    KeySettings = {
       Title = "Untitled",
       Subtitle = "Key System",
       Note = "No method of obtaining the key is provided",
       FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
       SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
       GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
       Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
    }
 })

 local Tab = Window:CreateTab("Tab Example", 4483362458) -- Title, Image

 local Section = Tab:CreateSection("Section Example")

 local Toggle = Tab:CreateToggle({
    Name = "Auto Punch {Without Movement}",
    CurrentValue = false,
    Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(bool)
        if bool then
        _G.autopunch = true
        repeat
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(game.Players.LocalPlayer.Backpack:FindFirstChild("Punch"))
            local args = {
                [1] = "punch",
                [2] = "rightHand"
            }
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))

            local args = {
                [1] = "punch",
                [2] = "leftHand"
            }
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
            game:GetService("RunService").RenderStepped:Wait()
        until not _G.autopunch
    else
        _G.autopunch = false
    end
    end,
 })

 local function autoPunchWithMovement()
    while _G.autopunchwm do
        game.Players.LocalPlayer.Character.Humanoid:EquipTool(game.Players.LocalPlayer.Backpack:FindFirstChild("Punch"))
        local args = {
            [1] = "punch",
            [2] = "rightHand"
        }
        game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))

        local args = {
            [1] = "punch",
            [2] = "leftHand"
        }
        game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
        game:GetService("RunService").RenderStepped:Wait()
    end
end

local function playAnimations()
    local character = game.Players.LocalPlayer.Character
    local humanoid = character:WaitForChild("Humanoid")

    local animationIds = {
        "rbxassetid://3638767427",
        "rbxassetid://3638749874"
    }

    local currentIndex = 1

    while _G.autopunchwm do
        local animation = Instance.new("Animation")
        animation.AnimationId = animationIds[currentIndex]

        local animationTrack = humanoid:LoadAnimation(animation)
        animationTrack:Play()

        currentIndex = currentIndex % #animationIds + 1

        wait(0.3)
    end
end

local Toggle = Tab:CreateToggle({
    Name = "Auto Punch {With Movement}",
    CurrentValue = false,
    Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(bool)
        if bool then
            _G.autopunchwm = true
            spawn(autoPunchWithMovement)
            spawn(playAnimations)
        else
            _G.autopunchwm = false
        end
    end,
 })

 local Toggle = Tab:CreateToggle({
    Name = "Auto Punch {Without Movement}",
    CurrentValue = false,
    Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(bool)
        if bool then
            _G.autopunch = true
            repeat
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(game.Players.LocalPlayer.Backpack:FindFirstChild("Punch"))
                local args = {
                    [1] = "punch",
                    [2] = "rightHand"
                }
                game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
    
                local args = {
                    [1] = "punch",
                    [2] = "leftHand"
                }
                game:GetService("Players").LocalPlayer.muscleEvent:FireServer(unpack(args))
                game:GetService("RunService").RenderStepped:Wait()
            until not _G.autopunch
        else
            _G.autopunch = false
        end
    end,
 })

 local Toggle = Tab:CreateToggle({
    Name = "Speed Punch",
    CurrentValue = false,
    Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(bool)
        if bool then
            game:GetService("Players").LocalPlayer.Backpack.Punch:FindFirstChildOfClass("NumberValue").Value = 0.01
        else
            game:GetService("Players").LocalPlayer.Backpack.Punch:FindFirstChildOfClass("NumberValue").Value = 0.5
        end
    end,
})

local function isInWhitelist(player, whitelist)
    for _, name in ipairs(whitelist) do
        if player.Name == name then
            return true
        end
    end
    return false
end

local whitelist = {}

local Input = Tab:CreateInput({
    Name = "Whitelist",
    PlaceholderText = "Whitelist",
    RemoveTextAfterFocusLost = false,
    Callback = function(text)
        table.insert(whitelist, text)   
    end,
 })

 local Button = Tab:CreateButton({
    Name = "Clear",
    Callback = function()
        whitelist = {}
    end,
 })

 local function touchHead(player)
    local character = player.Character
    if character and not isInWhitelist(player, whitelist) then
        local head = character:FindFirstChild("Head")
        local localPlayer = game.Players.LocalPlayer
        local leftHand = localPlayer and localPlayer.Character:FindFirstChild("LeftHand")
        if head and leftHand then
            pcall(function()
                firetouchinterest(head, leftHand, 0)
                wait(0.01)
                firetouchinterest(head, leftHand, 1)
            end)
        end
    end
end

local Toggle = Tab:CreateToggle({
    Name = "Auto Kill",
    CurrentValue = false,
    Flag = "Toggle1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(bool)
        if bool then
            _G.autokill = true
            repeat
                local Players = game:GetService("Players")
                local isRunning = false
    
                local function main()
                    while isRunning and _G.autokill do
                        for _, player in ipairs(Players:GetPlayers()) do
                            if player ~= Players.LocalPlayer then
                                touchHead(player)
                            end
                        end
                        wait(1 * 0.1)
                    end
                end
    
                local function startCode()
                    isRunning = true
                    main()
                end
    
                startCode()
            until not _G.autokill
        else
            _G.autokill = false
        end
    end,
 })

 local Tab = Window:CreateTab("Eggs", 4483362458) -- Title, Image

 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Galaxy Oracle Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Galaxy Oracle Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Muscle Elite Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Muscle Elite Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Legends Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Legends Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Inferno Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Inferno Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Mythical Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Mythical Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Frost Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Frost Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Green Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Green Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
 
 local Toggle = Tab:CreateToggle({
    Name = "Auto Open Blue Crystal",
    CurrentValue = false,
    Flag = "Auto Kill",
    Callback = function(bool)
             if bool then 
                 _G.autocrystal = true
                 repeat
 local args = {
     [1] = "openCrystal",
     [2] = "Blue Crystal"
 }
 game:GetService("ReplicatedStorage").rEvents.openCrystalRemote:InvokeServer(unpack(args))
                     until not _G.autocrystal
     else
         _G.autocrystal = false
             end
         end,
     })
